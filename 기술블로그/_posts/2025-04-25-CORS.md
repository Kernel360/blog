---
layout: post  
title: "CORS ì—ëŸ¬, ì´ì œ ë‘ë µì§€ ì•Šë‹¤! (ì›ë¦¬ë¶€í„° Spring Boot í•´ê²°ê¹Œì§€)"
author: "ìœ¤ë‹¤ë¹ˆ"
banner:
  image: "assets/images/post/2023-11-05.webp"
  background: "#000"
  height: "100vh"
  min_height: "38vh"
  heading_style: "font-size: 4.25em; font-weight: bold; text-decoration: underline"
  tags: ["CORS", "ì—ëŸ¬"]
---

## CORS ì—ëŸ¬, ì´ì œ ë‘ë µì§€ ì•Šë‹¤! (ì›ë¦¬ë¶€í„° Spring Boot í•´ê²°ê¹Œì§€)

ì•ˆë…•í•˜ì„¸ìš”! ì›¹ ê°œë°œ ì—¬ì •ì—ì„œ ìš°ë¦¬ë¥¼ ì¢…ì¢… ë©ˆì¹«í•˜ê²Œ ë§Œë“œëŠ” **CORS(Cross-Origin Resource Sharing) ì—ëŸ¬**. APIëŠ” ë©€ì©¡í•œë° ë¸Œë¼ìš°ì € ì½˜ì†”ì— ë¹¨ê°„ ë¶ˆì´ ë“¤ì–´ì˜¤ë©´ ë‹¹í™©ìŠ¤ëŸ½ê¸° ë§ˆë ¨ì´ì£ . ðŸ˜¥

í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œê°€ ë¶„ë¦¬ëœ í˜„ëŒ€ ì›¹ ì•„í‚¤í…ì²˜ì—ì„œëŠ” ë‹¤ë¥¸ ì¶œì²˜(Origin) ê°„ì˜ í†µì‹ ì´ í•„ìˆ˜ì ìž…ë‹ˆë‹¤. í•˜ì§€ë§Œ ë¸Œë¼ìš°ì €ì˜ ë³´ì•ˆ ì •ì±…ì¸ **SOP(Same-Origin Policy)** ë•Œë¬¸ì— ì´ ê³¼ì •ì´ ê¸°ë³¸ì ìœ¼ë¡œ ì°¨ë‹¨ë©ë‹ˆë‹¤. ë°”ë¡œ ì´ ì§€ì ì—ì„œ CORSê°€ ë“±ìž¥í•©ë‹ˆë‹¤!

ì´ ê¸€ì—ì„œëŠ” **CORS ì—ëŸ¬ê°€ ì™œ ë°œìƒí•˜ëŠ”ì§€(SOP)**, **CORSëŠ” ì–´ë–»ê²Œ ë™ìž‘í•˜ëŠ”ì§€(ì£¼ìš” ì‹œë‚˜ë¦¬ì˜¤)**, ê·¸ë¦¬ê³  **ìŠ¤í”„ë§ ë¶€íŠ¸(Spring Boot) í™˜ê²½ì—ì„œ CORS ë¬¸ì œë¥¼ ì–´ë–»ê²Œ í•´ê²°í•˜ëŠ”ì§€** í•µì‹¬ë§Œ ì™ì™ ë½‘ì•„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤. ì´ ê¸€ì„ í†µí•´ CORSì— ëŒ€í•œ ë§‰ì—°í•œ ë‘ë ¤ì›€ì„ ë–¨ì³ë‚´ì‹œê¸¸ ë°”ëžë‹ˆë‹¤!

## ëª©ì°¨

1.  **ë¬¸ì œì˜ ì‹œìž‘: SOP (Same-Origin Policy)**
  *   "ì¶œì²˜(Origin)"ëž€ ë¬´ì—‡ì¼ê¹Œìš”?
  *   SOP ì •ì±…ì´ëž€?
2.  **í•´ê²°ì±… ë“±ìž¥! CORS (Cross-Origin Resource Sharing)**
3.  **CORSì˜ ì£¼ìš” ìž‘ë™ ë°©ì‹**
  *   ë‹¨ìˆœ ìš”ì²­ (Simple Request)
  *   ì˜ˆë¹„ ìš”ì²­ (Preflight Request)
  *   ì¸ì¦ëœ ìš”ì²­ (Credentialed Request)
4.  **Spring Bootì—ì„œ CORS ì„¤ì •í•˜ê¸°**
  *   `@CrossOrigin` ì–´ë…¸í…Œì´ì…˜ (ê°„íŽ¸ ì„¤ì •)
  *   `WebMvcConfigurer` (ì „ì—­ ì„¤ì • - ê¶Œìž¥ ðŸ‘)
5.  **í•µì‹¬ ìš”ì•½ & CORS ì—ëŸ¬ ëŒ€ì²˜ íŒ!**

---

## 1. ë¬¸ì œì˜ ì‹œìž‘: SOP (Same-Origin Policy)

CORSë¥¼ ì´í•´í•˜ê¸° ìœ„í•œ ì²«ê±¸ìŒì€ ë°”ë¡œ **SOP(Same-Origin Policy, ë™ì¼ ì¶œì²˜ ì •ì±…)**ìž…ë‹ˆë‹¤.

### "ì¶œì²˜(Origin)"ëž€ ë¬´ì—‡ì¼ê¹Œìš”?

ì›¹ì—ì„œ 'ì¶œì²˜'ëŠ” ë‹¤ìŒ ì„¸ ê°€ì§€ ìš”ì†Œì˜ ì¡°í•©ìœ¼ë¡œ ê²°ì •ë©ë‹ˆë‹¤.

| ìš”ì†Œ       | ì„¤ëª…                                                     | ì˜ˆì‹œ                        |
| :--------- | :------------------------------------------------------- | :-------------------------- |
| **í”„ë¡œí† ì½œ** | í†µì‹  ê·œì•½                                                | `http`, `https`             |
| **í˜¸ìŠ¤íŠ¸**   | ì›¹ ì„œë²„ì˜ ì£¼ì†Œ (ë„ë©”ì¸ ë˜ëŠ” IP)                            | `www.example.com`, `localhost` |
| **í¬íŠ¸**     | í†µì‹ ì— ì‚¬ìš©ë˜ëŠ” ë²ˆí˜¸ (http: 80, https: 443ì€ ë³´í†µ ìƒëžµ) | `80`, `443`, `3000`, `8080` |

ì´ ì„¸ ê°€ì§€ê°€ **ëª¨ë‘ ì¼ì¹˜í•´ì•¼** ë¸Œë¼ìš°ì €ëŠ” "ê°™ì€ ì¶œì²˜"ë¼ê³  íŒë‹¨í•©ë‹ˆë‹¤.

> ** ìž ê¹! í€´ì¦ˆ íƒ€ìž„ ðŸ§ **
> `http://localhost` ì™€ ë™ì¼í•œ ì¶œì²˜ë¥¼ ê³¨ë¼ì£¼ì„¸ìš”!
>
> 1.  `http://127.0.0.1`
> 2.  `http://localhost/api/cors`
> 3.  `http://localhost:80`
> 4.  `https://localhost`
>
> (ì •ë‹µì€ ê¸€ ë§ˆì§€ë§‰ì— ê³µê°œ!)

### SOP ì •ì±…ì´ëž€?

SOPëŠ” ì›¹ ë¸Œë¼ìš°ì €ì˜ **í•µì‹¬ì ì¸ ë³´ì•ˆ ê¸°ëŠ¥**ìœ¼ë¡œ, **"ë‹¤ë¥¸ ì¶œì²˜ì˜ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ì„ ê¸°ë³¸ì ìœ¼ë¡œ ì œí•œ"**í•˜ëŠ” ì •ì±…ìž…ë‹ˆë‹¤.

*   **ì™œ í•„ìš”í•œê°€ìš”?** ðŸ›¡ï¸ **ë³´ì•ˆ!** ë§Œì•½ ì•…ì˜ì ì¸ ì›¹ì‚¬ì´íŠ¸ê°€ ì—¬ëŸ¬ë¶„ì´ ë¡œê·¸ì¸í•œ ì€í–‰ ì‚¬ì´íŠ¸ì˜ ì •ë³´ë¥¼ ë§ˆìŒëŒ€ë¡œ ê°€ì ¸ê°ˆ ìˆ˜ ìžˆë‹¤ë©´ í°ì¼ì´ê² ì£ ? SOPëŠ” ì´ëŸ° ìœ„í—˜ì„ ë§‰ëŠ” ê¸°ë³¸ì ì¸ ë°©ì–´ì„ ìž…ë‹ˆë‹¤.
*   **ë¬´ì—‡ì„ ë§‰ë‚˜ìš”?** ì£¼ë¡œ ìŠ¤í¬ë¦½íŠ¸(JavaScript)ë¥¼ ì´ìš©í•œ ë‹¤ë¥¸ ì¶œì²˜ì˜ ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ì„ ë§‰ìœ¼ë©°, íŠ¹ížˆ **ë‹¤ë¥¸ ì¶œì²˜ë¡œ HTTP ìš”ì²­(Ajax, fetch ë“±)ì„ ë³´ë‚´ê³  ê·¸ ì‘ë‹µì„ ì½ëŠ” ê²ƒì„ ì œí•œ**í•˜ëŠ” ê²ƒì´ CORSì™€ ì§ì ‘ì ì¸ ê´€ë ¨ì´ ìžˆìŠµë‹ˆë‹¤.

> **ðŸ’¡ ì¤‘ìš” í¬ì¸íŠ¸!**
> SOPëŠ” ì„œë²„ì˜ ë¬¼ë¦¬ì  ìœ„ì¹˜ê°€ ì•„ë‹Œ, **Origin(í”„ë¡œí† ì½œ, í˜¸ìŠ¤íŠ¸, í¬íŠ¸)ì˜ ë™ì¼ì„±**ìœ¼ë¡œ íŒë‹¨í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ê°™ì€ ì„œë²„ ë‚´ì—ì„œë„ í”„ë¡ íŠ¸ì—”ë“œ í¬íŠ¸ì™€ API ì„œë²„ í¬íŠ¸ê°€ ë‹¤ë¥´ë©´ ë‹¤ë¥¸ ì¶œì²˜ë¡œ ê°„ì£¼ë˜ì–´ SOPì˜ ì˜í–¥ì„ ë°›ìŠµë‹ˆë‹¤.

---

## 2. í•´ê²°ì±… ë“±ìž¥! CORS (Cross-Origin Resource Sharing)

SOPëŠ” ì¤‘ìš”í•˜ì§€ë§Œ, í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ API ì„œë²„ë¥¼ ë¶„ë¦¬í•˜ëŠ” í˜„ëŒ€ ì›¹ ê°œë°œì—ì„œëŠ” ë‹¤ë¥¸ ì¶œì²˜ ê°„ í†µì‹ ì´ í•„ìˆ˜ì ìž…ë‹ˆë‹¤. ì´ë•Œ ë“±ìž¥í•˜ëŠ” í•´ê²°ì‚¬ê°€ ë°”ë¡œ **CORS(Cross-Origin Resource Sharing)**ìž…ë‹ˆë‹¤!

*   **CORSëž€?** SOPì˜ ë³´ì•ˆ ì›ì¹™ì€ ì§€í‚¤ë©´ì„œ, **ì•ˆì „í•˜ê²Œ ë‹¤ë¥¸ ì¶œì²˜ì™€ ìžì›ì„ ê³µìœ **í•˜ê¸° ìœ„í•œ **W3C í‘œì¤€**ìž…ë‹ˆë‹¤.
*   **í•µì‹¬ ì›ë¦¬:** **ì„œë²„**ê°€ íŠ¹ì • **HTTP ì‘ë‹µ í—¤ë”**(`Access-Control-Allow-*` ë“±)ë¥¼ í†µí•´ **ë¸Œë¼ìš°ì €**ì—ê²Œ "ì´ ì¶œì²˜ì—ì„œ ì˜¤ëŠ” ìš”ì²­ì€ ë‚´ê°€ í—ˆìš©í–ˆìœ¼ë‹ˆ ì•ˆì „í•´!"ë¼ê³  ëª…ì‹œì ìœ¼ë¡œ ì•Œë ¤ì£¼ëŠ” ë°©ì‹ìž…ë‹ˆë‹¤.

> **ðŸš¨ ê¼­ ê¸°ì–µí•˜ì„¸ìš”!**
> CORSëŠ” **ì›¹ ë¸Œë¼ìš°ì €ì— ì ìš©ë˜ëŠ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜**ìž…ë‹ˆë‹¤. **ì„œë²„ ê°„ì˜ ì§ì ‘ì ì¸ í†µì‹ ì—ëŠ” CORSê°€ ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.** (Postman ë“±ì—ì„œ API í…ŒìŠ¤íŠ¸ ì‹œ CORS ì—ëŸ¬ê°€ ì—†ëŠ” ì´ìœ ë„ ì´ ë•Œë¬¸ìž…ë‹ˆë‹¤!)

---

## 3. CORSì˜ ì£¼ìš” ìž‘ë™ ë°©ì‹

CORSëŠ” ìš”ì²­ì˜ íŠ¹ì„±ì— ë”°ë¼ í¬ê²Œ ì„¸ ê°€ì§€ ì£¼ìš” ë°©ì‹ìœ¼ë¡œ ë™ìž‘í•©ë‹ˆë‹¤.

### ê°€. ë‹¨ìˆœ ìš”ì²­ (Simple Request)

íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê°„ë‹¨í•œ ìš”ì²­ì€ **Preflight ìš”ì²­ ì—†ì´ ë°”ë¡œ ì„œë²„ë¡œ ì „ì†¡**ë©ë‹ˆë‹¤.

*   **ì¡°ê±´:**
  *   HTTP ë©”ì„œë“œ: `GET`, `HEAD`, `POST` ì¤‘ í•˜ë‚˜
  *   `POST` ìš”ì²­ ì‹œ `Content-Type`: `application/x-www-form-urlencoded`, `multipart/form-data`, `text/plain` ì¤‘ í•˜ë‚˜
  *   ìš”ì²­ í—¤ë”: íŠ¹ì • ê¸°ë³¸ í—¤ë” ì™¸ ì»¤ìŠ¤í…€ í—¤ë” ì—†ìŒ
*   **íë¦„:**
  1.  **ë¸Œë¼ìš°ì € -> ì„œë²„:** ì‹¤ì œ ìš”ì²­ ì „ì†¡ (ìš”ì²­ í—¤ë”ì— `Origin` í¬í•¨)
  2.  **ì„œë²„ -> ë¸Œë¼ìš°ì €:** ì‘ë‹µ ì „ì†¡ (ì‘ë‹µ í—¤ë”ì— **`Access-Control-Allow-Origin: [í—ˆìš©í•  ì¶œì²˜]`** í¬í•¨)

```mermaid
sequenceDiagram
    participant Web Browser as WB
    participant API Server as AS
    WB->>AS: 1. GET /data (Origin: http://client.com)
    AS-->>WB: 2. HTTP 200 OK (Access-Control-Allow-Origin: http://client.com)
```

### ë‚˜. ì˜ˆë¹„ ìš”ì²­ (Preflight Request)

ë‹¨ìˆœ ìš”ì²­ ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ì•ŠëŠ” ê²½ìš° (e.g., `PUT`, `DELETE` ë©”ì„œë“œ, `Content-Type: application/json`, ì»¤ìŠ¤í…€ í—¤ë” `Authorization` í¬í•¨ ë“±), ë¸Œë¼ìš°ì €ëŠ” ì‹¤ì œ ìš”ì²­ì„ ë³´ë‚´ê¸° ì „ì— **ë¨¼ì € `OPTIONS` ë©”ì„œë“œë¡œ "ì˜ˆë¹„ ìš”ì²­(Preflight Request)"**ì„ ë³´ëƒ…ë‹ˆë‹¤.

*   **íë¦„:**
  1.  **ë¸Œë¼ìš°ì € -> ì„œë²„ (Preflight ìš”ì²­):** `OPTIONS` ë©”ì„œë“œ
    *   í—¤ë”: `Origin`, `Access-Control-Request-Method`, `Access-Control-Request-Headers`
  2.  **ì„œë²„ -> ë¸Œë¼ìš°ì € (Preflight ì‘ë‹µ):** `200 OK`
    *   í—¤ë”: `Access-Control-Allow-Origin`, `Access-Control-Allow-Methods`, `Access-Control-Allow-Headers`, `Access-Control-Max-Age` (Optional)
  3.  **ë¸Œë¼ìš°ì € -> ì„œë²„ (ì‹¤ì œ ìš”ì²­):** Preflight ì‘ë‹µì´ ì„±ê³µì ì´ë©´, ì›ëž˜ ë³´ë‚´ë ¤ë˜ ì‹¤ì œ ìš”ì²­ ì „ì†¡

```mermaid
sequenceDiagram
    participant Web Browser as WB
    participant API Server as AS
    WB->>AS: 1. OPTIONS /resource (Origin, AC-Request-Method, AC-Request-Headers)
    AS-->>WB: 2. HTTP 200 OK (AC-Allow-Origin, AC-Allow-Methods, AC-Allow-Headers)
    WB->>AS: 3. PUT /resource (ì‹¤ì œ ë°ì´í„° ìš”ì²­)
    AS-->>WB: 4. HTTP 200 OK (AC-Allow-Origin)
```
> ë§Œì•½ Preflight ì‘ë‹µì— ì ì ˆí•œ `Access-Control-Allow-*` í—¤ë”ê°€ ì—†ìœ¼ë©´, ë¸Œë¼ìš°ì €ëŠ” ì‹¤ì œ ìš”ì²­ì„ ë³´ë‚´ì§€ ì•Šê³  ë°”ë¡œ CORS ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤!

### ë‹¤. ì¸ì¦ëœ ìš”ì²­ (Credentialed Request)

ìš”ì²­ì— **ìžê²© ì¦ëª… ì •ë³´(ì¿ í‚¤, `Authorization` í—¤ë” ë“±)ë¥¼ í¬í•¨**í•˜ëŠ” ê²½ìš°ìž…ë‹ˆë‹¤.

*   **ë‹¤ë¥¸ ì¶œì²˜ë¡œ ìžê²© ì¦ëª…ì„ ë³´ë‚´ê¸° ìœ„í•œ ì¡°ê±´:**
  1.  **í´ë¼ì´ì–¸íŠ¸ ì¸¡:** ìš”ì²­ ì‹œ `credentials: 'include'` (fetch API) ë˜ëŠ” `xhr.withCredentials = true` (XMLHttpRequest) ì™€ ê°™ì´ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.
  2.  **ì„œë²„ ì¸¡ ì‘ë‹µ í—¤ë”:**
    *   **`Access-Control-Allow-Credentials: true`** ê°€ **ë°˜ë“œì‹œ** í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
    *   **`Access-Control-Allow-Origin`** í—¤ë”ì—ëŠ” **ì™€ì¼ë“œì¹´ë“œ(`*`)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê³ , ìš”ì²­ì„ ë³´ë‚¸ íŠ¹ì • ì¶œì²˜ë¥¼ ì •í™•ížˆ ëª…ì‹œ**í•´ì•¼ í•©ë‹ˆë‹¤. (ë³´ì•ˆìƒì˜ ì´ìœ )

ì´ ì¡°ê±´ ì¤‘ í•˜ë‚˜ë¼ë„ ë§Œì¡±í•˜ì§€ ì•Šìœ¼ë©´, ë¸Œë¼ìš°ì €ëŠ” ìžê²© ì¦ëª…ì„ ë³´ë‚´ì§€ ì•Šê±°ë‚˜ ì„œë²„ ì‘ë‹µì„ ê±°ë¶€í•©ë‹ˆë‹¤.

---

## 4. Spring Bootì—ì„œ CORS ì„¤ì •í•˜ê¸°

ìŠ¤í”„ë§ ë¶€íŠ¸ ë°±ì—”ë“œì—ì„œëŠ” CORS ì‘ë‹µ í—¤ë”ë¥¼ ì–´ë–»ê²Œ ì„¤ì •í•  ìˆ˜ ìžˆì„ê¹Œìš”? ëŒ€í‘œì ì¸ ë‘ ê°€ì§€ ë°©ë²•ì„ ì†Œê°œí•©ë‹ˆë‹¤.

### ê°€. `@CrossOrigin` ì–´ë…¸í…Œì´ì…˜ (ê°„íŽ¸ ì„¤ì •)

Controller í´ëž˜ìŠ¤ë‚˜ íŠ¹ì • í•¸ë“¤ëŸ¬ ë©”ì„œë“œ ìœ„ì— `@CrossOrigin` ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ ê°„ë‹¨í•˜ê²Œ ì„¤ì •í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

```java
// 1. Controller ì „ì²´ì— ì ìš©
@CrossOrigin(origins = "http://localhost:3000") // localhost:3000 ì¶œì²˜ë§Œ í—ˆìš©
@RestController
@RequestMapping("/api/items")
public class ItemController {
    // ...
}

// 2. íŠ¹ì • ë©”ì„œë“œì—ë§Œ ì ìš© + ì¶”ê°€ ì„¤ì •
@RestController
@RequestMapping("/api/users")
public class UserController {
    @CrossOrigin(origins = {"http://localhost:3000", "https://my-app.com"}, // ì—¬ëŸ¬ ì¶œì²˜ í—ˆìš©
                 methods = {RequestMethod.GET, RequestMethod.POST}, // íŠ¹ì • ë©”ì„œë“œë§Œ í—ˆìš©
                 maxAge = 3600) // Preflight ìºì‹œ 1ì‹œê°„
    @GetMapping("/{id}")
    public User getUser(@PathVariable Long id) {
        // ...
    }
}
```

*   **ìž¥ì :** ë§¤ìš° ê°„íŽ¸í•˜ê³  ì§ê´€ì ìž…ë‹ˆë‹¤.
*   **ë‹¨ì :** ì„¤ì •ì´ ì—¬ëŸ¬ ê³³ì— í©ì–´ì§ˆ ìˆ˜ ìžˆì–´, í”„ë¡œì íŠ¸ê°€ ì»¤ì§€ë©´ ê´€ë¦¬ê°€ ì–´ë ¤ìš¸ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

### ë‚˜. `WebMvcConfigurer` (ì „ì—­ ì„¤ì • - ê¶Œìž¥ ðŸ‘)

CORS ì„¤ì •ì„ í•œ ê³³ì—ì„œ ì¤‘ì•™ ê´€ë¦¬í•˜ëŠ” **ê¶Œìž¥ ë°©ì‹**ìž…ë‹ˆë‹¤.

```java
import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.config.annotation.CorsRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

@Configuration
public class WebConfig implements WebMvcConfigurer {

    @Override
    public void addCorsMappings(CorsRegistry registry) {
        registry.addMapping("/api/**") // "/api/"ë¡œ ì‹œìž‘í•˜ëŠ” ëª¨ë“  ê²½ë¡œì— ì ìš©
                .allowedOrigins("http://localhost:3000", "https://my-app.com") // í—ˆìš©í•  ì¶œì²˜ ëª©ë¡
                .allowedMethods("GET", "POST", "PUT", "DELETE", "OPTIONS") // í—ˆìš©í•  HTTP ë©”ì„œë“œ
                .allowedHeaders("*") // ëª¨ë“  ìš”ì²­ í—¤ë” í—ˆìš© (ë³´ì•ˆìƒ í•„ìš”ì‹œ ëª…ì‹œì ìœ¼ë¡œ ì§€ì • ê¶Œìž¥)
                .allowCredentials(true) // [ì¤‘ìš”!] ì¿ í‚¤/ì¸ì¦ í—¤ë” í¬í•¨ ìš”ì²­ í—ˆìš© ì—¬ë¶€
                .maxAge(3600); // Preflight ì‘ë‹µ ìºì‹œ ì‹œê°„ (ì´ˆ)
    }
}
```

*   **`allowCredentials(true)`**: [ë§¤ìš° ì¤‘ìš”!] ì¿ í‚¤ë‚˜ `Authorization` í—¤ë” ë“± **ìžê²© ì¦ëª…ì„ í¬í•¨í•˜ëŠ” ìš”ì²­ì„ í—ˆìš©**í•˜ë ¤ë©´ ë°˜ë“œì‹œ `true`ë¡œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ê²½ìš°, ë³´ì•ˆ ì •ì±…ìƒ `allowedOrigins()`ì— ì™€ì¼ë“œì¹´ë“œ(`*`)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê³ , **íŠ¹ì • ì¶œì²˜ë¥¼ ëª…ì‹œ**í•´ì•¼ í•©ë‹ˆë‹¤.

---

## 5. í•µì‹¬ ìš”ì•½ & CORS ì—ëŸ¬ ëŒ€ì²˜ íŒ!

ë§ˆì§€ë§‰ìœ¼ë¡œ í•µì‹¬ ë‚´ìš©ì„ ë‹¤ì‹œ í•œë²ˆ ì •ë¦¬í•´ ë“œë¦´ê²Œìš”!

1.  ë¸Œë¼ìš°ì €ì˜ **SOP**ê°€ ë³´ì•ˆì„ ìœ„í•´ ë‹¤ë¥¸ ì¶œì²˜ ìš”ì²­ì„ ê¸°ë³¸ì ìœ¼ë¡œ ë§‰ìŠµë‹ˆë‹¤.
2.  **CORS**ëŠ” ì„œë²„ê°€ **ì‘ë‹µ í—¤ë”(`Access-Control-Allow-*`)**ë¡œ í—ˆìš© ì •ì±…ì„ ì•Œë ¤ì£¼ì–´, **ë¸Œë¼ìš°ì €ê°€** ë‹¤ë¥¸ ì¶œì²˜ ìš”ì²­ì„ ì•ˆì „í•˜ê²Œ í—ˆìš©í•˜ë„ë¡ í•˜ëŠ” W3C í‘œì¤€ìž…ë‹ˆë‹¤.
3.  ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œëŠ” `@CrossOrigin` ì–´ë…¸í…Œì´ì…˜ ë˜ëŠ” **`WebMvcConfigurer` (ê¶Œìž¥)**ë¥¼ ì‚¬ìš©í•˜ì—¬ **ì„œë²„ì— CORS ì •ì±…ì„ ì„¤ì •**í•¨ìœ¼ë¡œì¨ CORS ì—ëŸ¬ë¥¼ í•´ê²°í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

> **ðŸš¨ CORS ì—ëŸ¬ ë°œìƒ ì‹œ ëŒ€ì²˜ ê¿€íŒ! ðŸ¯**
>
> 1.  ë‹¹í™©í•˜ì§€ ë§ê³ ! ì„œë²„ ë¡œê·¸ê°€ ì•„ë‹ˆë¼, **ë¸Œë¼ìš°ì € ê°œë°œìž ë„êµ¬(F12)ì˜ [ë„¤íŠ¸ì›Œí¬(Network)] íƒ­**ì„ ë¨¼ì € í™•ì¸í•˜ì„¸ìš”!
> 2.  [ë„¤íŠ¸ì›Œí¬] íƒ­ì—ì„œ ì‹¤íŒ¨í•œ ìš”ì²­, íŠ¹ížˆ **`OPTIONS` (Preflight) ìš”ì²­**ì„ ì°¾ì•„ì„œ **[ì‘ë‹µ í—¤ë”(Response Headers)]**ë¥¼ ê¼¼ê¼¼ížˆ ì‚´íŽ´ë³´ì„¸ìš”.
      >     *   `Access-Control-Allow-Origin` í—¤ë”ê°€ ìžˆëŠ”ê°€?
>     *   ê·¸ ê°’ì´ ìš”ì²­ì„ ë³´ë‚¸ ì¶œì²˜(`Origin` ìš”ì²­ í—¤ë” ê°’)ì™€ ì¼ì¹˜í•˜ëŠ”ê°€? (ë˜ëŠ” `*` ì¸ê°€?)
>     *   `Access-Control-Allow-Methods`, `Access-Control-Allow-Headers`ì— í•„ìš”í•œ ë©”ì„œë“œ/í—¤ë”ê°€ í¬í•¨ë˜ì–´ ìžˆëŠ”ê°€?
>     *   ì¸ì¦ëœ ìš”ì²­ì´ë¼ë©´ `Access-Control-Allow-Credentials: true`ê°€ ìžˆëŠ”ê°€?
>
> ì´ ë¶€ë¶„ë§Œ ìž˜ í™•ì¸í•´ë„ ëŒ€ë¶€ë¶„ì˜ CORS ë¬¸ì œëŠ” ì›ì¸ì„ ì°¾ê³  í•´ê²°í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤!

---

ì´ì œ CORS ì—ëŸ¬ ì•žì—ì„œ ë” ì´ìƒ ë‹¹í™©í•˜ì§€ ì•Šê³ , ì›ë¦¬ë¥¼ ì´í•´í•˜ë©° ì°¨ê·¼ì°¨ê·¼ í•´ê²°í•˜ì‹¤ ìˆ˜ ìžˆê¸°ë¥¼ ë°”ëžë‹ˆë‹¤! ê¸´ ê¸€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ðŸ˜Š

> **í€´ì¦ˆ ì •ë‹µ:** 2ë²ˆ (`http://localhost/api/cors`), 3ë²ˆ (`http://localhost:80`)
